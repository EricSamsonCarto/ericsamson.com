---
import { Image } from 'astro:assets';
import { getCollection } from 'astro:content';
import PageLayout from '../layouts/PageLayout.astro';
import ContentPreviewGrid from '../components/ContentPreviewGrid.astro';
import { getLatest } from '../lib/content-helpers';

// Get latest projects and tech posts
const allProjects = await getCollection('projects');
const allTech = await getCollection('tech');

// Show 3 latest items
const latestProjects = getLatest(allProjects, 3);
const latestTech = getLatest(allTech, 3);
---

<PageLayout title="Eric Samson" >
	<div class="mt-2">
		<ContentPreviewGrid
			title="Latest Projects"
			items={latestProjects}
			collection="projects"
			viewMoreUrl="/projects"
			viewMoreText="more projects"
		/>
		<ContentPreviewGrid
			title="Recent Tech Writing"
			items={latestTech}
			collection="tech"
			viewMoreUrl="/writing"
			viewMoreText="more writing"
		/>
	</div>

	<div class="max-w-3xl mx-auto">
		<div class="mb-6 mt-6">
			
			<div class="mt-3"></div>
			<h1 class="text-4xl md:text-5xl font-bold mb-6 animate-fade-in">
				Hi, I'm Eric üó∫Ô∏è
			</h1>

			<Image
				src="/headshot.jpg"
				alt="Eric Samson headshot"
				width={800}
				height={600}
				class="rounded-lg shadow-lg mb-6 w-full"
				loading="eager"
			/>
		</div>

		<div class="prose prose-gray max-w-none">
			<p class="text-lg leading-relaxed mb-4">
				I'm a software engineer with a passion for building thoughtful, user-centered applications. When I'm not writing code, you'll find me exploring new coffee shops, diving into a good book, or planning my next adventure.
			</p>

			<p class="text-lg leading-relaxed">
				Currently, I'm focused on creating elegant solutions to complex problems and constantly learning new technologies. I believe in writing clean, maintainable code and sharing what I learn along the way through writing and open-source contributions.
			</p>
		</div>
	</div>
</PageLayout>

<style>
	@keyframes fade-in {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	.animate-fade-in {
		animation: fade-in 1.5s ease-in;
	}
</style>