---
import { Image } from 'astro:assets';
import { getCollection } from 'astro:content';
import PageLayout from '../layouts/PageLayout.astro';
import ContentPreviewGrid from '../components/ContentPreviewGrid.astro';
import { getLatest } from '../lib/content-helpers';

const allProjects = await getCollection('projects');
const allTech = await getCollection('tech');

const latestProjects = getLatest(allProjects, 3);
const latestTech = getLatest(allTech, 3);
---

<PageLayout title="Eric Samson" >
	<div class="mt-2">
		<ContentPreviewGrid
			title="Latest Projects"
			items={latestProjects}
			collection="projects"
			viewMoreUrl="/projects"
			viewMoreText="more projects"
		/>
		<ContentPreviewGrid
			title="Recent Tech Writing"
			items={latestTech}
			collection="tech"
			viewMoreUrl="/writing"
			viewMoreText="more writing"
		/>
	</div>

	<div class="max-w-3xl mx-auto animate-fade-in">
		<div class="mb-6 mt-6">

			<div class="mt-3"></div>
			<h1 class="text-4xl md:text-5xl font-bold mb-6">
				Hi, I'm Eric üó∫Ô∏è
			</h1>

			<Image
				src="/headshot.jpg"
				alt="Eric Samson headshot"
				width={800}
				height={600}
				class="rounded-lg shadow-lg mb-6 w-full"
				loading="eager"
			/>
		</div>

		<div class="prose prose-gray max-w-none">
			<p class="text-lg leading-relaxed mb-4">
				I like maps. I like data that helps create maps. And I like the systems that enable that data to be visualized on maps. I love to ski, hike, and travel to the places I've seen on maps.
			</p>

			<p class="text-lg leading-relaxed">
				Currently, I live in Boston and work for <a href="https://www.tract.com/" target="_blank">Tract</a> as a Geospatial Solutions Architect.
			</p>

			<p class="text-lg leading-relaxed">
				I use this space to showcase and host projects I've worked on in my free time. I also write about the technology I'm using, mostly so I can remember how to use it myself and have some public documentation for the things I'm learning. I don't use AI for any of my writing, but I certainly use it as a coding tool.
			</p>

			<p class="text-lg leading-relaxed">
				If you would like to talk data, feel free to reach out on <a href="https://www.linkedin.com/in/iamericsamson/" target="_blank">Linkedin</a>.
			</p>
		</div>
	</div>
</PageLayout>

<style>
	@keyframes fade-in {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	.animate-fade-in {
		animation: fade-in 1.5s ease-in;
	}
</style>