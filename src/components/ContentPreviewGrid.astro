---
import ContentCard from './ContentCard.astro';
import type { CollectionEntry } from 'astro:content';

type Props = {
  title?: string;
  items: CollectionEntry<'projects' | 'tech' | 'books' | 'life'>[];
  collection: 'projects' | 'tech' | 'books' | 'life';
  viewMoreUrl: string;
  viewMoreText: string;
};

const { title, items, collection, viewMoreUrl, viewMoreText } = Astro.props;
---

<section class="mt-2">
  {title && (
    <h3 class="text-lg font-semibold lowercase">
      {title}
    </h3>
  )}

  <div class="flex gap-6">
    {items.slice(0, 2).map((item) => (
      <div class="flex-1 min-w-0">
        <ContentCard
          title={item.data.title}
          date={item.data.date}
          slug={item.slug}
          thumbnail={item.data.thumbnail}
          collection={collection}
          eager={true}
        />
      </div>
    ))}
    {items[2] && (
      <div class="hidden md:block flex-1 min-w-0">
        <ContentCard
          title={items[2].data.title}
          date={items[2].data.date}
          slug={items[2].slug}
          thumbnail={items[2].data.thumbnail}
          collection={collection}
          eager={true}
        />
      </div>
    )}
  </div>

  <div class="flex justify-end mt-1">
    <a
      href={viewMoreUrl}
      class="text-sm text-blue-600 hover:text-blue-800 hover:underline"
    >
      {viewMoreText} â†’
    </a>
  </div>
</section>