---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';

type Props = {
  post: CollectionEntry<'books'>;
}

const { post } = Astro.props;
const thumbnailSrc = post.data.thumbnail?.replace('/public', '') || '';
---

<div class="flex flex-row gap-2 md:gap-8 mb-6">
  {post.data.thumbnail && (
    <div class="w-1/3 flex-shrink-0">
      <Image
        src={thumbnailSrc}
        alt={post.data.title}
        class="w-full rounded-lg shadow-lg"
        width={300}
        height={450}
      />
    </div>
  )}

  <div class="flex flex-col justify-between flex-1">
    <div>
      <h1 class="!text-xl md:!text-4xl font-bold text-gray-900 dark:text-white mb-3 md:mb-4">
        {post.data.title}
      </h1>

      <div class="border-l-4 border-gray-300 dark:border-gray-600 pl-3 md:pl-6 py-1 md:py-2 mb-4 md:mb-6">
        <blockquote class="text-sm md:text-lg italic text-gray-700 dark:text-white leading-relaxed">
          {post.data.quote}
        </blockquote>
      </div>
    </div>

    <div class="flex items-center gap-2 md:gap-3 text-xs md:text-sm text-gray-600 dark:text-white">
      <span>{post.data.author}</span>
      <span>ISBN: {post.data.ISBN}</span>
    </div>
  </div>
</div>
