---
const currentPath = Astro.url.pathname;

const isActive = (path: string): boolean => {
  if (path === '/') {
    return currentPath === '/';
  }
  return currentPath.startsWith(path);
};
---

<header>
  <nav class="max-w-3xl mx-auto px-12 py-6 flex flex-col md:flex-row justify-between items-center gap-4 md:gap-0">
    <a
      href="/"
      class={`text-xl font-semibold text-gray-900 hover:text-gray-400 transition-colors relative ${isActive('/') ? 'after:content-[""] after:absolute after:bottom-[-4px] after:left-1/2 after:-translate-x-1/2 after:w-[60%] after:h-[1px] after:bg-gray-900 after:transition-colors hover:after:bg-gray-400' : ''}`}
    >
      Eric Samson
    </a>
    <div class="flex gap-8">
      <a
        href="/projects"
        class={`text-gray-700 hover:text-gray-400 transition-colors relative ${isActive('/projects') ? 'after:content-[""] after:absolute after:bottom-[-4px] after:left-1/2 after:-translate-x-1/2 after:w-[60%] after:h-[1px] after:bg-gray-900 after:transition-colors hover:after:bg-gray-400' : ''}`}
      >
        projects
      </a>
      <a
        href="/writing"
        class={`text-gray-700 hover:text-gray-400 transition-colors relative ${isActive('/writing') ? 'after:content-[""] after:absolute after:bottom-[-4px] after:left-1/2 after:-translate-x-1/2 after:w-[60%] after:h-[1px] after:bg-gray-900 after:transition-colors hover:after:bg-gray-400' : ''}`}
      >
        writing
      </a>
    </div>
  </nav>
</header>